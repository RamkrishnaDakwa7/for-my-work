<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERS: The "Pocket Money" Architecture (Indian Edition)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        h1, h2, h3, .fun-font { font-family: 'Nunito', sans-serif; }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .glass-panel:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
        }
        
        .nav-item.active {
            background-color: #fff7ed; /* Orange-50 */
            color: #ea580c; /* Orange-600 */
            border-right: 4px solid #ea580c;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            height: 300px;
            max-height: 350px;
        }

        .analogy-text { color: #d97706; /* Amber-600 */ }
        .tech-text { color: #475569; /* Slate-600 */ }
    </style>
    <!-- Chosen Palette: Indian Saffron & Slate - Culturally resonant yet professional. -->
    <!-- Structure: 
         1. Overview: "Pocket Money" analogy (Updated roles).
         2. Architecture: "Lego Fort".
         3. Data: "Notebook & Bag".
         4. Future Scope: Email, Slack, Analytics (New Section). -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-slate-50 text-slate-800 h-screen flex overflow-hidden selection:bg-orange-100 selection:text-orange-900">

    <!-- Sidebar -->
    <aside class="w-72 bg-white border-r border-slate-200 flex-shrink-0 flex flex-col h-full z-20 shadow-sm">
        <div class="p-6 border-b border-slate-100 bg-orange-50">
            <h1 class="text-2xl font-extrabold text-slate-800 tracking-tight leading-none">
                ERS <span class="text-orange-600">Simplified</span>
            </h1>
            <p class="text-xs text-slate-500 mt-2 font-medium">Design for Everyone (Indian Context)</p>
        </div>
        
        <nav class="flex-1 overflow-y-auto py-6 px-3 space-y-2">
            <button onclick="router('overview')" id="nav-overview" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-bold text-slate-500 hover:bg-slate-50 transition-colors flex items-center gap-3">
                <span class="text-xl">üí∞</span> The Pocket Money (Overview)
            </button>
            <button onclick="router('architecture')" id="nav-architecture" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-bold text-slate-500 hover:bg-slate-50 transition-colors flex items-center gap-3">
                <span class="text-xl">üè∞</span> The Lego Fort (Arch)
            </button>
            <button onclick="router('data')" id="nav-data" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-bold text-slate-500 hover:bg-slate-50 transition-colors flex items-center gap-3">
                <span class="text-xl">üéí</span> Notebook & Bag (Data)
            </button>
            <button onclick="router('future')" id="nav-future" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-bold text-slate-500 hover:bg-slate-50 transition-colors flex items-center gap-3">
                <span class="text-xl">üöÄ</span> Future Plans (Scope)
            </button>
        </nav>

        <div class="p-4 bg-slate-50 border-t border-slate-200">
            <div class="flex items-center justify-between mb-2">
                <span class="text-xs font-bold text-slate-400 uppercase">View Mode</span>
            </div>
            <div class="flex gap-2">
                <button onclick="toggleMode('simple')" class="flex-1 py-2 text-xs font-bold bg-orange-100 text-orange-700 rounded hover:bg-orange-200 transition">5-Year-Old</button>
                <button onclick="toggleMode('tech')" class="flex-1 py-2 text-xs font-bold bg-slate-200 text-slate-600 rounded hover:bg-slate-300 transition">Architect</button>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto bg-slate-50 relative scroll-smooth">
        <div class="max-w-5xl mx-auto p-8 pb-24">

            <!-- OVERVIEW SECTION -->
            <section id="view-overview" class="view-section animate-fade-in">
                <header class="mb-10">
                    <h2 class="text-4xl font-extrabold text-slate-800 mb-4 fun-font">The "Pocket Money" Problem</h2>
                    <div class="p-4 bg-orange-50 border-l-4 border-orange-500 rounded-r-lg">
                        <p class="text-lg text-slate-700 italic">
                            "Imagine you paid for everyone's Chai and Samosas at the birthday party using your own pocket money. Now you want <strong>The Big Boss</strong> (The Company) to give you your Rupees back. This system makes sure you get your cash, and The Big Boss knows you didn't just buy chocolates for yourself."
                        </p>
                    </div>
                </header>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                    <!-- Card 1 -->
                    <div class="glass-panel p-6 rounded-2xl">
                        <div class="text-3xl mb-3">üìù</div>
                        <h3 class="text-lg font-bold text-slate-800 mb-2">The Chit (Submit)</h3>
                        <p class="simple-text text-sm text-slate-600">You write a small note: "I spent ‚Çπ500 on Samosas."</p>
                        <p class="tech-text text-xs text-slate-500 mt-2 pt-2 border-t hidden"><strong>Tech:</strong> POST /reimbursements endpoint. Creates a DRAFT record.</p>
                    </div>
                    <!-- Card 2 -->
                    <div class="glass-panel p-6 rounded-2xl">
                        <div class="text-3xl mb-3">üì∏</div>
                        <h3 class="text-lg font-bold text-slate-800 mb-2">The Bill (Receipt)</h3>
                        <p class="simple-text text-sm text-slate-600">You show the shop bill so The Big Boss knows it's real. It can be a BIG photo (5MB).</p>
                        <p class="tech-text text-xs text-slate-500 mt-2 pt-2 border-t hidden"><strong>Tech:</strong> File Upload via Presigned URL to S3. Max size 5MB validation.</p>
                    </div>
                    <!-- Card 3 -->
                    <div class="glass-panel p-6 rounded-2xl">
                        <div class="text-3xl mb-3">‚úÖ</div>
                        <h3 class="text-lg font-bold text-slate-800 mb-2">The Nod (Approval)</h3>
                        <p class="simple-text text-sm text-slate-600">The Big Boss checks the note and bill. If it's good, he puts money in your bank.</p>
                        <p class="tech-text text-xs text-slate-500 mt-2 pt-2 border-t hidden"><strong>Tech:</strong> Manager Role triggers state transition to APPROVED. Audit log created.</p>
                    </div>
                </div>

                <div class="glass-panel p-8 rounded-2xl">
                    <h3 class="text-xl font-bold mb-4 fun-font">Who is playing? (Roles)</h3>
                    <div class="space-y-4">
                        <div class="flex items-center p-3 bg-white rounded-xl border border-slate-100">
                            <span class="w-12 text-2xl text-center">üë®‚Äçüíª</span>
                            <div>
                                <div class="font-bold text-slate-700">The Team Member (Employee)</div>
                                <div class="text-xs text-slate-500">Can ask for money, upload bill photos. Cannot say "Yes" to themselves.</div>
                            </div>
                        </div>
                        <div class="flex items-center p-3 bg-white rounded-xl border border-slate-100">
                            <span class="w-12 text-2xl text-center">üëî</span>
                            <div>
                                <div class="font-bold text-slate-700">The Big Boss (Manager)</div>
                                <div class="text-xs text-slate-500">Can see all requests from the team. Says "Yes" or "No".</div>
                            </div>
                        </div>
                        <div class="flex items-center p-3 bg-white rounded-xl border border-slate-100">
                            <span class="w-12 text-2xl text-center">üéì</span>
                            <div>
                                <div class="font-bold text-slate-700">The Principal (Admin)</div>
                                <div class="text-xs text-slate-500">Decides who is on the Team and who is a Boss. Can fix big mistakes.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ARCHITECTURE SECTION -->
            <section id="view-architecture" class="view-section hidden">
                <header class="mb-10">
                    <h2 class="text-4xl font-extrabold text-slate-800 mb-4 fun-font">The "Lego Fort" Design</h2>
                    <p class="text-slate-600 mb-4">How we build the system so it doesn't break when everyone plays.</p>
                </header>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <!-- The Analogy -->
                    <div class="bg-orange-50 p-6 rounded-2xl border border-orange-100">
                        <h3 class="text-xl font-bold text-orange-800 mb-4">Why a "Modular Monolith"?</h3>
                        <p class="text-sm text-slate-700 mb-4 leading-relaxed">
                            Imagine building a big <strong>Lego Fort</strong>.
                        </p>
                        <ul class="space-y-3 text-sm text-slate-700">
                            <li class="flex gap-2">
                                <span class="text-xl">üè∞</span>
                                <span><strong>The Monolith:</strong> We build the whole fort on one big green plate. It is strong and easy to move from the hall to the bedroom (Deployment).</span>
                            </li>
                            <li class="flex gap-2">
                                <span class="text-xl">üß©</span>
                                <span><strong>Modular:</strong> Inside the fort, we keep the Kitchen (Files) separate from the Treasure Room (Database). If the Kitchen gets too crowded with Samosas, we can take just that part out later and make a bigger Kitchen separately.</span>
                            </li>
                        </ul>
                    </div>

                    <!-- The Tech Specs -->
                    <div class="bg-slate-800 text-white p-6 rounded-2xl shadow-xl">
                        <h3 class="text-xl font-bold text-blue-300 mb-4">Tech Stack (The Bricks)</h3>
                        <div class="space-y-4 text-sm">
                            <div class="flex justify-between border-b border-slate-700 pb-2">
                                <span class="text-slate-400">The Brain (Backend)</span>
                                <span class="font-mono text-emerald-400">Node.js or Python</span>
                            </div>
                            <div class="flex justify-between border-b border-slate-700 pb-2">
                                <span class="text-slate-400">The Face (Frontend)</span>
                                <span class="font-mono text-blue-400">React (Like fancy stickers)</span>
                            </div>
                            <div class="flex justify-between border-b border-slate-700 pb-2">
                                <span class="text-slate-400">The Memory (Database)</span>
                                <span class="font-mono text-yellow-400">PostgreSQL</span>
                            </div>
                            <div class="flex justify-between pb-2">
                                <span class="text-slate-400">The Toy Box (Files)</span>
                                <span class="font-mono text-orange-400">AWS S3</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="text-lg font-bold mb-4">Complexity Meter</h3>
                    <p class="text-xs text-slate-500 mb-4">Comparing our design (Monolith) to Microservices (Too complex for now).</p>
                    <div class="chart-container">
                        <canvas id="complexityChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- DATA SECTION -->
            <section id="view-data" class="view-section hidden">
                <header class="mb-10">
                    <h2 class="text-4xl font-extrabold text-slate-800 mb-4 fun-font">The Notebook & The School Bag</h2>
                    <p class="text-slate-600">Where do we keep the information?</p>
                </header>

                <div class="flex flex-col md:flex-row gap-8 mb-12">
                    <!-- The Database -->
                    <div class="flex-1 glass-panel p-6 rounded-2xl border-t-4 border-blue-500">
                        <div class="text-4xl mb-4">üìí</div>
                        <h3 class="text-xl font-bold text-blue-900 mb-2">The Class Notebook (SQL DB)</h3>
                        <p class="text-sm text-slate-600 mb-4">
                            This is a very neat notebook where the Class Monitor writes down FACTS.
                        </p>
                        <div class="bg-blue-50 p-3 rounded-lg text-xs font-mono text-blue-800">
                            Row 1: Rahul spent ‚Çπ500 on 01/12<br>
                            Row 2: Boss approved it on 01/13
                        </div>
                        <p class="text-xs text-slate-400 mt-2"><strong>Rule:</strong> No drawings allowed here! They take up too much space.</p>
                    </div>

                    <!-- The File Storage -->
                    <div class="flex-1 glass-panel p-6 rounded-2xl border-t-4 border-orange-500">
                        <div class="text-4xl mb-4">üéí</div>
                        <h3 class="text-xl font-bold text-orange-900 mb-2">The School Bag (S3 Storage)</h3>
                        <p class="text-sm text-slate-600 mb-4">
                            This is a big bag where we throw the heavy stuff (Bill Photos).
                        </p>
                        <div class="bg-orange-50 p-3 rounded-lg text-xs font-mono text-orange-800">
                            Item: bill_photo.jpg<br>
                            Tag: Belongs to Rahul
                        </div>
                        <p class="text-xs text-slate-400 mt-2"><strong>Link:</strong> In the notebook, we just write "Look in the bag for photo #123".</p>
                    </div>
                </div>

                <!-- Workflow Diagram -->
                <div class="glass-panel p-8 rounded-2xl">
                    <h3 class="text-xl font-bold mb-6 text-center">The "Class Monitor" Workflow</h3>
                    <div class="flex flex-wrap justify-center items-center gap-4 text-sm font-bold">
                        <div class="bg-slate-200 text-slate-600 px-4 py-2 rounded-full">DRAFT üìù</div>
                        <div class="text-slate-400">‚Üí</div>
                        <div class="bg-blue-100 text-blue-600 px-4 py-2 rounded-full animate-pulse">PENDING ‚è≥</div>
                        <div class="text-slate-400">‚Üí</div>
                        <div class="flex flex-col gap-2">
                            <span class="bg-green-100 text-green-700 px-4 py-2 rounded-full text-center">APPROVED ‚úÖ</span>
                            <span class="bg-red-100 text-red-700 px-4 py-2 rounded-full text-center">REJECTED ‚ùå</span>
                        </div>
                        <div class="text-slate-400">‚Üí</div>
                        <div class="bg-yellow-100 text-yellow-700 px-4 py-2 rounded-full">PAID (Rupees Sent) üí∞</div>
                    </div>
                </div>
            </section>

             <!-- FUTURE SCOPE SECTION (NEW) -->
             <section id="view-future" class="view-section hidden">
                <header class="mb-10">
                    <h2 class="text-4xl font-extrabold text-slate-800 mb-4 fun-font">What's Coming Next? (Future Scope)</h2>
                    <p class="text-slate-600">Making the system smarter, faster, and cooler.</p>
                </header>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                    
                    <!-- Feature 1: Email Notifications -->
                    <div class="bg-white p-6 rounded-2xl border border-slate-200 hover:border-blue-400 transition-all shadow-sm">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-2xl mb-4">üìß</div>
                        <h3 class="text-lg font-bold text-slate-800 mb-2">Email Notifications</h3>
                        
                        <div class="simple-text">
                            <p class="text-sm font-bold text-orange-600 mb-2">"The Postman"</p>
                            <p class="text-sm text-slate-600">
                                Just like the postman brings a letter, the system will send an email to tell The Boss "Hey! Rahul bought Samosas, please check!" so he doesn't forget.
                            </p>
                        </div>
                        
                        <div class="tech-text hidden mt-2 pt-3 border-t border-slate-100">
                            <p class="text-xs font-mono text-slate-500 mb-1">Tech Stack:</p>
                            <p class="text-sm font-bold text-slate-700">SendGrid / AWS SES</p>
                            <p class="text-xs text-slate-500 mt-1">Transactional emails triggered by status changes. Implemented via async message queues (e.g., BullMQ) to avoid blocking the main API.</p>
                        </div>
                    </div>

                    <!-- Feature 2: Slack Integration -->
                    <div class="bg-white p-6 rounded-2xl border border-slate-200 hover:border-purple-400 transition-all shadow-sm">
                        <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-2xl mb-4">üí¨</div>
                        <h3 class="text-lg font-bold text-slate-800 mb-2">Slack Integration</h3>
                        
                        <div class="simple-text">
                            <p class="text-sm font-bold text-orange-600 mb-2">"The School Notice Board"</p>
                            <p class="text-sm text-slate-600">
                                Instead of opening a letter, The Boss gets a quick message on his phone (Slack) saying "Approved!" instantly. It's like shouting across the playground.
                            </p>
                        </div>

                        <div class="tech-text hidden mt-2 pt-3 border-t border-slate-100">
                            <p class="text-xs font-mono text-slate-500 mb-1">Tech Stack:</p>
                            <p class="text-sm font-bold text-slate-700">Slack Webhooks / Bolt.js</p>
                            <p class="text-xs text-slate-500 mt-1">Real-time alerts sent to specific channels or DMs. Allows managers to approve requests directly from the chat interface using interactive buttons.</p>
                        </div>
                    </div>

                    <!-- Feature 3: Analytics Dashboard -->
                    <div class="bg-white p-6 rounded-2xl border border-slate-200 hover:border-green-400 transition-all shadow-sm">
                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-2xl mb-4">üìä</div>
                        <h3 class="text-lg font-bold text-slate-800 mb-2">Analytics Dashboard</h3>
                        
                        <div class="simple-text">
                            <p class="text-sm font-bold text-orange-600 mb-2">"The Report Card"</p>
                            <p class="text-sm text-slate-600">
                                At the end of the month, we can see a big colorful chart showing who spent the most money on Chai vs. Biscuits. It helps The Boss save money.
                            </p>
                        </div>

                        <div class="tech-text hidden mt-2 pt-3 border-t border-slate-100">
                            <p class="text-xs font-mono text-slate-500 mb-1">Tech Stack:</p>
                            <p class="text-sm font-bold text-slate-700">BigQuery + Tableau</p>
                            <p class="text-xs text-slate-500 mt-1">ETL pipelines move data to a Data Warehouse (Redshift/BigQuery). Visualization tools (Tableau/PowerBI) connect to this for high-performance reporting.</p>
                        </div>
                    </div>

                </div>
            </section>

        </div>
    </main>

    <script>
        // --- Router Logic ---
        function router(viewId) {
            document.querySelectorAll('.view-section').forEach(el => {
                el.classList.add('hidden');
            });
            
            const target = document.getElementById(`view-${viewId}`);
            if(target) {
                target.classList.remove('hidden');
                target.classList.add('animate-fade-in');
            }

            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active');
                el.classList.add('text-slate-500');
            });
            const activeNav = document.getElementById(`nav-${viewId}`);
            if(activeNav) {
                activeNav.classList.add('active');
                activeNav.classList.remove('text-slate-500');
            }
        }

        // --- Toggle Simple/Tech Mode ---
        function toggleMode(mode) {
            const simpleTexts = document.querySelectorAll('.simple-text');
            const techTexts = document.querySelectorAll('.tech-text');

            if(mode === 'tech') {
                simpleTexts.forEach(el => el.classList.add('hidden'));
                techTexts.forEach(el => el.classList.remove('hidden'));
            } else {
                simpleTexts.forEach(el => el.classList.remove('hidden'));
                techTexts.forEach(el => el.classList.add('hidden'));
            }
        }

        // --- Chart Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            router('overview'); 

            const ctx = document.getElementById('complexityChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Setup Time', 'Maintenance', 'Cost', 'Flexibility'],
                    datasets: [{
                        label: 'Our Design (Lego Fort)',
                        data: [3, 2, 2, 4], // Balanced
                        backgroundColor: '#f97316', // Orange-500
                        borderRadius: 6
                    }, {
                        label: 'Microservices (Separate Houses)',
                        data: [8, 9, 8, 5], // High complexity
                        backgroundColor: '#94a3b8', // Slate
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10,
                            title: { display: true, text: 'Difficulty Level (1-10)' }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.raw;
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
